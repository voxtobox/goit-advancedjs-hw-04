import{a as P,S as M,i as g}from"./assets/vendor-Rdv7LHNr.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();const O="46523265-c71f09449dcc8bc0189ac0d2d";async function v(e,a=15,t=1){const s=new URLSearchParams({key:O,q:e,image_type:"photo",orientation:"horizontal",safesearch:"true",per_page:a,page:t});return(await P.get(`https://pixabay.com/api/?${s}`)).data}const i=document.querySelector(".gallery"),b=document.querySelector(".load-more"),D=()=>{i.innerHTML='<span class="loader"></span>'},H=()=>{var e;(e=i.querySelector(".loader"))==null||e.remove()},I=()=>{b.classList.remove("hidden")},E=()=>{b.classList.add("hidden")},T=({webformatURL:e,largeImageURL:a,tags:t,likes:s,views:r,comments:o,downloads:n})=>{const y=document.createElement("li"),l=document.createElement("a");l.href=a;const u=document.createElement("div");u.classList.add("image-container");const d=document.createElement("img");d.classList.add("image-preview"),d.src=e,d.alt=t,u.appendChild(d),l.appendChild(u);const p=document.createElement("div");return p.classList.add("card-description"),[{label:"Likes",value:s},{label:"Views",value:r},{label:"Comments",value:o},{label:"Downloads",value:n}].forEach(L=>{const h=document.createElement("span");h.classList.add("attribute"),h.innerHTML=`<span>${L.label}</span> ${L.value}`,p.appendChild(h)}),l.appendChild(p),y.appendChild(l),y},w=e=>{const a=document.createDocumentFragment();e.forEach(s=>{a.appendChild(T(s))});let t=i.querySelector(".gallery-list");t||(t=document.createElement("ul"),t.classList.add("gallery-list"),i.appendChild(t)),t.appendChild(a)},C=(e="An error occurred while loading images.")=>{i.innerHTML=`<span class="error">${e}</span>`},S=new M(".gallery a",{overlayOpacity:.8,captions:!0,captionDelay:250,captionPosition:"bottom",captionType:"attr",captionsData:"alt"}),$=document.querySelector(".search-form"),B=document.querySelector(".load-more"),x=document.querySelector(".gallery");let c=1,f=15,m="",q=0;$.addEventListener("submit",async e=>{e.preventDefault();const a=e.target;if(m=a.elements.search.value.trim(),!!m){a.reset(),D(),c=1;try{E();const t=await v(m,f,c);if(H(),t.total>15&&I(),q=t.totalHits,t.total===0)throw new Error("Sorry, there are no images matching your search query. Please try again!");w(t.hits),S.refresh()}catch(t){g.error({title:"Error",message:t.message}),C()}}});B.addEventListener("click",async()=>{c+=1;try{const e=await v(m,f,c);w(e.hits),S.refresh();const{height:a}=x.firstElementChild.getBoundingClientRect();window.scrollBy({top:a*2,behavior:"smooth"}),c*f>=q&&(E(),g.info({title:"Info",message:"You've reached the end of search results."}))}catch(e){g.error({title:"Error",message:e.message}),C()}});
//# sourceMappingURL=index.js.map
